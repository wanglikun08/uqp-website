# Bias-Variance Tradeoff Demo

Interactive demonstration of the bias-variance tradeoff using real bike rental data.

## Overview

This demo teaches students about model complexity by visualizing how polynomial degree affects prediction accuracy. Students observe:

- **Underfitting** (degree 1): High bias, too simple
- **Optimal fit** (degree 2-3): Balanced bias and variance
- **Moderate overfitting** (degree 7-10): High variance, memorizes noise
- **Extreme overfitting** (degree 12-15): Wild oscillations, test error explodes

## Features

- Polynomial regression (degrees 1-15)
- Real-time metrics (Train MSE, Test MSE)
- Bootstrap visualization showing variance
- Error decomposition chart showing dramatic overfitting at high degrees
- Synthetic bike rental data (20 train + 12 test points, random with ≥1.5°C spacing)

## Files

```
lec03d_bias-variance/
├── content.html           # Main demo HTML
├── script.js              # Polynomial regression engine (~800 LOC)
├── style.css              # Demo-specific styles
├── preview.svg            # Gallery thumbnail
├── data/
│   └── bike_data.json     # Preprocessed data with degrees 1-15 (124 KB)
├── support/               # Excluded from build
│   ├── preprocess_bike_data.py      # Real UCI data processor
│   └── generate_demo_data.py        # Synthetic data generator
└── README.md              # This file
```

## Usage

### For Students

1. Open the demo from the gallery
2. Adjust polynomial degree slider (1-10)
3. Click "Show Bootstrap" to visualize variance
4. Observe error chart showing bias-variance tradeoff
5. Answer: What degree minimizes test error?

### For Instructors

The demo uses synthetic data by default. To use real UCI bike data:

1. Download from: https://archive.ics.uci.edu/dataset/275/bike+sharing+dataset
2. Extract `hour.csv` to `support/` directory
3. Run: `python support/preprocess_bike_data.py`
4. Output: `data/bike_data.json` (replaces synthetic data)

## Data

### Synthetic Data (Default)

- Generated by `support/generate_demo_data.py`
- Realistic bike rental pattern: `cnt = -1.2*(temp - 25)² + 450 + noise`
- Inverted parabola: peaks at 25°C (~450 rentals), declines when too cold or too hot
- **20 training points, 12 test points** (reduced for clearer visualization)
- **X-spacing constraint**: Random uniform placement with minimum 1.5°C spacing between consecutive points
- Higher noise (σ=40) to make overfitting patterns visible
- Temperature range: 10-40°C (extended for better demonstration)
- **No regularization** - allows full overfitting demonstration at high degrees

### Real Data (Optional)

- UCI ML Repository - Bike Sharing Dataset
- Summer 2012 working days only
- Temperature (°C) vs hourly bike rentals
- License: CC BY 4.0

## Technical Details

### Polynomial Regression

- Closed-form solution using normal equations
- **No regularization** - pure least squares for dramatic overfitting demonstration
- Gaussian elimination for matrix inversion
- Handles degrees 1-15 (extreme overfitting at degree 12-15)

### Performance

- Polynomial fitting: < 3ms (degree 15 on 20 points)
- Chart rendering: < 80ms (both charts)
- Slider response: instant (no animation)
- Bootstrap display: < 30ms (precomputed)

### Browser Compatibility

- Chrome 90+, Firefox 88+, Safari 14+, Edge 90+
- Chart.js 4.x for visualization
- MathJax 3.x for equations
- No transpilation needed (ES6+)

## Educational Outcomes

After using this demo, students should be able to:

✅ Identify underfitting visually (straight line missing curvature)
✅ Identify optimal complexity (captures trend without noise)
✅ Identify moderate overfitting (wild oscillations, high test error)
✅ Identify extreme overfitting (dramatic zigzagging, test error explosion at degree 12-15)
✅ Explain why bias decreases with complexity
✅ Explain why variance increases with complexity
✅ Understand the U-shaped test error curve
✅ Recognize training vs test error gap as overfitting indicator
✅ Observe that training error continues decreasing while test error explodes

## Pattern Compliance

This demo follows the standardized lec02 pattern:

- ✅ `content.html` (not `index.html`)
- ✅ Single `script.js` file
- ✅ Standard tab structure (Introduction/Instructions/Tips)
- ✅ Exactly 3 instruction bullets
- ✅ Theory section at bottom
- ✅ No headers inside tabs
- ✅ Precomputed heavy computations
- ✅ 20-point sparse dataset with minimal regularization (optimized for dramatic overfitting visualization)

See `demos/_memory/demo_tab_content_styling.md` for full pattern documentation.

## Attribution

**Demo Development:**
Kevin Yu & Panagiotis Angeloudis
Transport Systems Lab, Imperial College London

**Data:**
Synthetic data generated for educational purposes. Real UCI Bike Sharing Dataset available in `support/` folder for reference.

If using real data: Fanaee-T, H. & Gama, J. (2014). Event labeling combining ensemble detectors and background knowledge. Progress in Artificial Intelligence, 2(2-3), 113-127. Springer.

**License:**
Demo code: MIT
Real data (optional): CC BY 4.0

## Related Demos

- **lec03a_regularization**: L1/L2 regularization for overfitting
- **lec02a_linear-regression**: Basic linear regression introduction
- **lec02b_gradient-descent**: Optimization fundamentals

## Future Enhancements

Phase 2 (if time permits):

- Multiple predictors (temperature + humidity)
- Regularization comparison (Ridge vs Lasso)
- Cross-validation visualization
- Confidence bands on fitted curve
- Export charts to PNG

---

*Last updated: 2025-10-19*
